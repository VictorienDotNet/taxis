(this["webpackJsonptaxi-kaios-alpha"]=this["webpackJsonptaxi-kaios-alpha"]||[]).push([[0],{12:function(e,t,n){e.exports={main:"Call_main__37YNI"}},21:function(e,t,n){e.exports={softkey:"Softkey_softkey__1151L"}},22:function(e,t,n){e.exports={button:"Button_button__2wrSg",appear:"Button_appear__3YHdP"}},27:function(e,t,n){e.exports={main:"Button_main__1J5zf"}},33:function(e,t,n){},35:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o=n(0),l=n.n(o),s=n(15),u=n.n(s),d=(n(33),n(4)),f=n(2),h=n(21),j=n.n(h),b=n(1),p=function(e){var t=e.children;return Object(o.useEffect)((function(){var e=function(e){if(("Enter"===e.key||"SoftRight"===e.key||"SoftLeft"===e.key)&&t){var n=t.length,r=1===n?"0":3===n&&1,a=(2===n||3===n)&&"0",i=(2===n||3===n)&&n-1;"SoftLeft"===e.key&&a?"function"===typeof t[a].fct&&t[a].fct():"Enter"===e.key&&r?"function"===typeof t[r].fct&&t[r].fct():"SoftRight"===e.key&&i&&"function"===typeof t[i].fct&&t[i].fct()}};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[t]),Object(b.jsx)("div",{className:j.a.softkey,children:t&&t.map((function(e,t){return Object(b.jsx)("span",{onClick:function(){return"function"===typeof e.fct&&e.fct()},children:e.name},t)}))})},O=n(3),v=n.n(O),x=n(48),g=n(52),m=n(49),y=function(e,t){var n,r,a;return(a=[n=e.latitude||e.lat||e[0]||0,r=e.longitude||e.lng||e[1]||0]).latitude=n,a.lat=n,a.longitude=r,a.lng=r,a.source=t,a},C=n(8),w=n.n(C),k=["title","titleId"];function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function S(e,t){var n=e.title,l=e.titleId,s=E(e,k);return o.createElement("svg",L({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,ref:t,"aria-labelledby":l},s),n?o.createElement("title",{id:l},n):null,r||(r=o.createElement("g",null,o.createElement("defs",null,o.createElement("path",{d:"M 9 3 C 9 1.343 10.343 0 12 0 L 12 0 C 13.657 0 15 1.343 15 3 L 15 9 C 15 10.657 13.657 12 12 12 L 12 12 C 10.343 12 9 10.657 9 9 Z",id:"a1000z"}),o.createElement("clipPath",{id:"a1001z"},o.createElement("use",{xlinkHref:"#a1000z"}))),o.createElement("use",{xlinkHref:"#a1000z",fill:"#005AE0",clipPath:"url(#a1001z)",strokeWidth:4,stroke:"hsl(0, 0%, 100%)"}))),a||(a=o.createElement("g",null,o.createElement("defs",null,o.createElement("path",{d:"M 9 15 C 9 13.343 10.343 12 12 12 L 12 12 C 13.657 12 15 13.343 15 15 L 15 21 C 15 22.657 13.657 24 12 24 L 12 24 C 10.343 24 9 22.657 9 21 Z",id:"a1002z"}),o.createElement("clipPath",{id:"a1003z"},o.createElement("use",{xlinkHref:"#a1002z"}))),o.createElement("use",{xlinkHref:"#a1002z",fill:"#005AE0",clipPath:"url(#a1003z)",strokeWidth:4,stroke:"hsl(0, 0%, 100%)"}))),i||(i=o.createElement("g",null,o.createElement("defs",null,o.createElement("path",{d:"M 0 12 C 0 10.343 1.343 9 3 9 L 9 9 C 10.657 9 12 10.343 12 12 L 12 12 C 12 13.657 10.657 15 9 15 L 3 15 C 1.343 15 0 13.657 0 12 Z",id:"a1004z"}),o.createElement("clipPath",{id:"a1005z"},o.createElement("use",{xlinkHref:"#a1004z"}))),o.createElement("use",{xlinkHref:"#a1004z",fill:"#005AE0",clipPath:"url(#a1005z)",strokeWidth:4,stroke:"hsl(0, 0%, 100%)"}))),c||(c=o.createElement("g",null,o.createElement("defs",null,o.createElement("path",{d:"M 12 12 C 12 10.343 13.343 9 15 9 L 21 9 C 22.657 9 24 10.343 24 12 L 24 12 C 24 13.657 22.657 15 21 15 L 15 15 C 13.343 15 12 13.657 12 12 Z",id:"a1006z"}),o.createElement("clipPath",{id:"a1007z"},o.createElement("use",{xlinkHref:"#a1006z"}))),o.createElement("use",{xlinkHref:"#a1006z",fill:"#005AE0",clipPath:"url(#a1007z)",strokeWidth:4,stroke:"hsl(0, 0%, 100%)"}))))}var M=o.forwardRef(S),_=(n.p,n(35),l.a.forwardRef((function(e,t){var n=e.center,r=void 0===n?[0,0]:n,a=e.children,i=e.keyboard,c=void 0===i||i,l=e.to,s=Object(o.useState)([]),u=Object(f.a)(s,2),d=u[0],h=u[1];Object(o.useEffect)((function(){var e={lat:null,lgt:null},t={lat:null,lgt:null};a?(a.forEach((function(n){if(n&&n.props.position){var r=n.props.position[0],a=n.props.position[1];e.lat=e.lat&&e.lat>r?e.lat:r,t.lat=t.lat&&t.lat<r?t.lat:r,e.lgt=e.lgt&&e.lgt<a?e.lgt:a,t.lgt=t.lgt&&t.lgt>a?t.lgt:a}})),h(v.a.latLngBounds(v.a.latLng(e.lat,e.lgt),v.a.latLng(t.lat,t.lgt)))):h(v.a.latLngBounds(v.a.latLng(30,-60),v.a.latLng(-30,60)))}),[a]);return Object(b.jsxs)("div",{className:w.a.Container,"data-fullscreen":c,"data-update":!!l,children:[l&&Object(b.jsx)("div",{className:w.a.Target,children:Object(b.jsx)(M,{})}),r&&Object(b.jsxs)(x.a,{className:w.a.Map,keyboardPanDelta:0,children:[Object(b.jsx)(g.a,{url:"https://api.mapbox.com/styles/v1/mapbox/streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYnZpY3RvcmllbiIsImEiOiJja3RycWNhYmMwNGQ2MnVtaTNnMGNwMTJwIn0.HirDPOdiEpC0myYa1x45RA"}),a,Object(b.jsx)(R,{bounds:d,ref:t,to:l,keyboard:c})]}),Object(b.jsxs)("div",{className:w.a.Softkeys,children:[Object(b.jsx)("div",{children:"Zoom out"}),Object(b.jsx)("div",{children:"Select"}),Object(b.jsx)("div",{children:"Zoom In"})]})]})}))),R=l.a.forwardRef((function(e,t){var n=e.bounds,r=e.to,a=e.keyboard,i=Object(m.a)();t&&(t.current=i);var c=function(e){if("1"===e.key?i.zoomOut():"3"===e.key&&i.zoomIn(),!a)return!1;if("SoftLeft"===e.key)i.zoomOut();else if("SoftRight"===e.key)i.zoomIn();else if("ArrowUp"===e.key)i.panBy([0,-25],{animate:!0});else if("ArrowDown"===e.key)i.panBy([0,25],{animate:!0});else if("ArrowLeft"===e.key)i.panBy([-25,0],{animate:!0});else if("ArrowRight"===e.key)i.panBy([25,0],{animate:!0});else{if("Enter"!==e.key)return;r&&r({coords:y(i.getCenter(),"map")})}e.preventDefault()};return Object(o.useEffect)((function(){return document.addEventListener("keydown",c),function(){return document.removeEventListener("keydown",c)}}),[a]),Object(o.useEffect)((function(){i.fitBounds(n,{padding:[24,48]})}),[n,i]),i.invalidateSize(),null})),A=n(50),P=n.p+"static/media/marker.ee8a36fa.svg";function I(e){var t=e.position,n=new v.a.divIcon({iconSize:new v.a.Point(15,15),className:w.a.here});return!!t&&Object(b.jsx)(A.a,{position:t,icon:n})}function N(e){var t=e.position,n=new v.a.Icon({iconUrl:P,iconAnchor:null,popupAnchor:null,shadowUrl:null,shadowSize:null,shadowAnchor:null,iconSize:new v.a.Point(24,32)});return Object(b.jsx)(A.a,{position:t,icon:n})}var W=n(22),z=n.n(W),T=function(){var e=Object(o.useState)("ready"),t=Object(f.a)(e,2),n=t[0],r=t[1];function a(e){"2"===e.key&&("function"===typeof window.getKaiAd?(r("loading"),window.getKaiAd({publisher:"36a8e3ea-afd1-4d19-8fa1-7d01fa86afa5",app:"Taxi",onerror:function(e){return console.error("Custom catch:",e)},onready:function(e){e.call("display"),r(null)}})):r("error"))}return Object(o.useEffect)((function(){document.addEventListener("keydown",a);var e=setTimeout((function(){r(null)}),12e3);return function(){document.removeEventListener("keydown",a),clearTimeout(e)}}),[]),!!n&&Object(b.jsx)("div",{className:z.a.button,children:"loading"===n?Object(b.jsx)(b.Fragment,{children:"Loading\u2026"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{children:"2"})," Support us"]})})},B=n(9),D=n.n(B);function Z(e){return e*(Math.PI/180)}var H=function(e){var t=e.data,n=t.action,r=t.ranks,a=t.index,i=t.coords;switch(n){case"Waiting Results":return Object(b.jsx)(Y,{children:Object(b.jsx)("p",{children:"Searching available options\xa0around\u2026"})});case"View Any Result":return Object(b.jsx)(Y,{children:Object(b.jsx)("p",{children:"We didn't find any taxi rank around."})});case"View Results":var c=r[a];if("phone"===c.type)return Object(b.jsxs)(Y,{children:[Object(b.jsx)(V,{current:a,max:r.length}),Object(b.jsxs)(U,{children:[Object(b.jsx)("span",{className:D.a.subheader,children:c.vicinity}),Object(b.jsx)("h2",{children:c.name})]})]});var o=function(e,t,n,r){var a=Z(r-t),i=Z(n-e),c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(Z(t))*Math.cos(Z(r))*Math.sin(i/2)*Math.sin(i/2),o=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))*6371;return o<1?Math.round(1e3*o)+"m":Math.round(o)+"km"}(i[1],i[0],c.lng,c.lat);return Object(b.jsxs)(Y,{children:[Object(b.jsx)(V,{current:a,max:r.length}),Object(b.jsxs)(F,{children:[Object(b.jsx)("span",{className:D.a.subheader,children:o}),Object(b.jsx)("h2",{children:c.name})]})]});default:return Object(b.jsx)(Y,{children:Object(b.jsx)("p",{children:"Looks like there was a problem. Restart the app."})})}},V=function(e){for(var t=e.current,n=e.max,r=[],a=0;a<n;a++)r.push(Object(b.jsx)("div",{"nav-index":a,"nav-selectable":"true","nav-selected":a===t?"true":"false"},a));return Object(b.jsx)("div",{className:D.a.pagging,children:r})},F=function(e){var t=e.children;return Object(b.jsx)("div",{className:D.a.rank,children:t})},U=function(e){var t=e.children;return Object(b.jsx)("div",{className:D.a.service,children:t})},Y=function(e){var t=e.children;return Object(b.jsx)("div",{className:D.a.Card,children:t})},G=n(6),J=n.n(G);var q,K=function(){if("function"===typeof MozActivity){var e=new MozActivity({name:"configure",data:{target:"device",section:"appPermissions"}});e.onsuccess=function(){},e.onerror=function(){}}},X=n(16),Q=function(e,t,n){if(!e)return!1;n?X.a.getInstance().init("88722017699e548c81d6cb75e95e3db0",n):X.a.getInstance().init("88722017699e548c81d6cb75e95e3db0"),X.a.getInstance().logEvent(e,Object(d.a)({version:"1.1.2"},t))},$=function(){Object(o.useEffect)((function(){return document.addEventListener("keydown",c),i(0),function(){return document.removeEventListener("keydown",c)}}),[]);var e=Object(o.useState)({type:null,index:null}),t=Object(f.a)(e,2),n=t[0],r=t[1],a=function(){return document.querySelectorAll("button")},i=function(e){return l(a()[e]||document.body)},c=function(e){if("ArrowUp"===e.key||"ArrowDown"===e.key||"Enter"===e.key){var t,n=a(),r=function(){var e=document.querySelector(":focus");return e?parseInt(e.getAttribute("nav-index")):0}();switch(e.key){case"ArrowDown":var i=r+1>n.length-1;return l(n[t=i?0:r+1]||n[0],t);case"ArrowUp":return t=0===r?n.length-1:r-1,l(n[t]||n[0],t);case"Enter":return a()[r].click(),!1}}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e?([].forEach.call(a(),(function(t,n){var r=t===e;t.setAttribute("nav-index",n),r?t.focus():t.blur()})),r({type:e.tagName,index:t})):i(0)};return[n,i]},ee=n(7),te=n(26),ne=n(51),re="1.1.2",ae="taxi.kaios.production";window.dev={clear:function(){Object(ee.b)(ae,{}),document.location.reload()},get:function(){Object(ee.a)(ae).then((function(e){console.log(e)}))}};var ie=["title","titleId"];function ce(){return ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ce.apply(this,arguments)}function oe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function le(e,t){var n=e.title,r=e.titleId,a=oe(e,ie);return o.createElement("svg",ce({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,q||(q=o.createElement("path",{d:"M20.94,11 C20.48,6.83 17.17,3.52 13,3.06 L13,2 C13,1.45 12.55,1 12,1 C11.45,1 11,1.45 11,2 L11,3.06 C6.83,3.52 3.52,6.83 3.06,11 L2,11 C1.45,11 1,11.45 1,12 C1,12.55 1.45,13 2,13 L3.06,13 C3.52,17.17 6.83,20.48 11,20.94 L11,22 C11,22.55 11.45,23 12,23 C12.55,23 13,22.55 13,22 L13,20.94 C17.17,20.48 20.48,17.17 20.94,13 L22,13 C22.55,13 23,12.55 23,12 C23,11.45 22.55,11 22,11 L20.94,11 Z M12,19 C8.13,19 5,15.87 5,12 C5,8.13 8.13,5 12,5 C15.87,5 19,8.13 19,12 C19,15.87 15.87,19 12,19 Z"})))}var se,ue=o.forwardRef(le);n.p;function de(e){return Object(b.jsx)("div",{className:J.a.GetPositionButton,children:Object(b.jsx)(ue,{})})}function fe(e){return Object(b.jsxs)("div",{className:J.a.SolarSystem,children:[Object(b.jsx)("div",{"data-flag":"flag"}),Object(b.jsx)(de,{})]})}var he=["title","titleId"];function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pe(e,t){var n=e.title,r=e.titleId,a=be(e,he);return o.createElement("svg",je({xmlns:"http://www.w3.org/2000/svg",width:153,height:99,viewBox:"0 0 153 99",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,se||(se=o.createElement("g",{fill:"none",fillRule:"evenodd"},o.createElement("path",{fill:"#F1F3F5",d:"M98,0 C104.627417,-5.32740867e-15 110,5.372583 110,12 L110,23 L141,23 C147.627417,23 153,28.372583 153,35 C153,41.627417 147.627417,47 141,47 L121.317205,47.0000801 C121.759393,48.2511731 122,49.5974882 122,51 C122,57.627417 116.627417,63 110,63 L12,63 C5.372583,63 8.11624501e-16,57.627417 0,51 C-8.11624501e-16,44.372583 5.372583,39 12,39 L27.6831465,39.0009157 C27.2407343,37.7495413 27,36.4028839 27,35 C27,28.372583 32.372583,23 39,23 L44,23 L44,12 C44,5.372583 49.372583,2.99379359e-15 56,0 L98,0 Z"}),o.createElement("g",{transform:"translate(54.934 10.352)"},o.createElement("rect",{width:35,height:7,x:4,y:81,fill:"#000",fillOpacity:.05,rx:3.5}),o.createElement("path",{fill:"#B2B2B2",d:"M17,42 L25,42 L25,83.5833333 C25,84.3657367 24.3657367,85 23.5833333,85 L18.4166667,85 C17.6342633,85 17,84.3657367 17,83.5833333 L17,42 L17,42 Z"}),o.createElement("path",{fill:"#FFC208",d:"M9.07905815,-1.00819071e-05 L32.913139,0.0326125199 C37.9108261,0.039453042 41.9605468,4.08917374 41.9673873,9.08686082 L42.0000099,32.920942 C42.0068637,37.9283191 37.9531386,41.9931563 32.9457616,42.0000101 C32.9374884,42.0000214 32.9292151,42.0000214 32.9209418,42.0000101 L9.086861,41.9673875 C4.08917393,41.960547 0.0394532273,37.9108263 0.0326127054,32.9131392 L-9.89637736e-06,9.07905797 C-0.00686368132,4.07168093 4.04686136,0.00684370304 9.0542384,-1.00819074e-05 C9.06251165,-2.14058105e-05 9.07078491,-2.14058104e-05 9.07905815,-1.00819071e-05 Z"}),o.createElement("polygon",{fill:"#FFF",fillRule:"nonzero",points:"30.648 11.352 30.648 17.027 23.838 17.027 23.838 31.783 18.162 31.783 18.162 17.027 11.352 17.027 11.352 11.352"})))))}var Oe=o.forwardRef(pe);n.p;function ve(e){var t=e.data,n=e.to;switch($(),t.action){case"Learn Basics":return Object(b.jsxs)("div",{className:J.a.onboarding,children:[Object(b.jsx)("div",{className:J.a.SolarSystem,children:Object(b.jsx)(Oe,{})}),Object(b.jsx)("p",{children:"Find easily\xa0taxi stand around."}),Object(b.jsx)("button",{onClick:function(){return n("Choose Location")},children:"Continue"})]});case"Choose Location":return Object(b.jsxs)(xe,{children:[Object(b.jsx)("p",{children:"Where do you want to find taxis?"}),Object(b.jsx)("button",{onClick:function(){return n("Waiting Location")},children:"Near Me"}),Object(b.jsx)("button",{onClick:function(){return n("Choose On Map")},children:"Choose On Map"})]});case"Waiting Location":return function(e,t,n){var r=0,a=navigator.geolocation.watchPosition((function(t){e(t),i()}),(function(e){r++,e.code===e.PERMISSION_DENIED?(i(),t(e)):r>6&&(i(),n(e))}),{enableHighAccuracy:!0,timeout:2500,maximumAge:6048e5}),i=function(){navigator.geolocation.clearWatch(a)}}((function(e){n({action:"Got Location",coords:y(e.coords,"GPS")})}),(function(){return n("Handle Denied Location")}),(function(){return n("Handle Location Error")})),Object(b.jsxs)(xe,{children:[Object(b.jsx)("p",{children:"Searching the stars for your location\u2026"}),Object(b.jsx)("button",{disabled:!0,children:"Near Me"}),Object(b.jsx)("button",{disabled:!0,children:"Choose On Map"})]});case"Got Location":return setTimeout((function(){n("Waiting Results")}),1e3),Object(b.jsxs)(xe,{children:[Object(b.jsx)("p",{children:"We found you."}),Object(b.jsx)("button",{disabled:!0,children:"Near Me"}),Object(b.jsx)("button",{disabled:!0,children:"Choose On Map"})]});case"Handle Denied Location":return Object(b.jsxs)(xe,{children:[Object(b.jsx)("p",{children:"You denied the geolocation permission. If you want share your location, grant\xa0access through the settings."}),Object(b.jsx)("button",{onClick:K,children:"Settings"}),Object(b.jsx)("button",{onClick:function(){return n("Choose On Map")},children:"Choose On Map"})]});case"Handle Location Error":return Object(b.jsxs)(xe,{children:[Object(b.jsx)("p",{children:"We didn't success to retrieve your location."}),Object(b.jsx)("button",{onClick:function(){return n("Choose On Map")},children:"Choose On Map"})]})}}var xe=function(e){var t=e.children;e.props;return Object(b.jsxs)("div",{className:J.a.onboarding,children:[Object(b.jsx)(fe,{}),t]})};function ge(e){var t=e.data,n=e.to,r=t.coords,a=t.action,i=t.ranks,c=t.index;Object(o.useEffect)((function(){return document.addEventListener("keydown",l),function(){return document.removeEventListener("keydown",l)}}),[t]);var l=function(e){if("ArrowLeft"===e.key&&"Display Map"!==a)n({index:c-1<0?0:c-1});else if("ArrowRight"===e.key&&"Display Map"!==a){var t=i.length-1;n({index:c+1>t?t:c+1})}else if("Backspace"===e.key&&"Display Map"===a)n("View Results");else{if("Backspace"!==e.key||"Display Map"===a)return;n("Choose Location")}e.preventDefault()};Object(o.useEffect)((function(){"Waiting Results"===a&&function(e,t,n){if(!e)return!1;var r="https://api.kaios.taxi/";r+="?lat="+e[0],r+="&lng="+e[1],r+="&version=1.1.2",window.fetch(r).then((function(e){return e.json()})).then((function(e){null!=e.results?"function"===typeof t&&t(e.results):"function"===typeof t&&t(!1)}),(function(e){"function"===typeof n&&n(e)}))}(r,(function(e){n({ranks:e})}),(function(e){}))}),[a]);var s="Display Map"===a,u=!!(i&&i.length>0);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(_,{center:r,keyboard:s,children:[r&&Object(b.jsx)(I,{position:r}),u&&"phone"!==i[c].type&&Object(b.jsx)(N,{position:[i[c].lat,i[c].lng]})]}),!s&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(T,{}),Object(b.jsx)(H,{data:t}),Object(b.jsx)(p,{children:function(){if("View Results"===a||"Call Taxi Service"===a){var e=i&&(c||0===c)&&i[c].phone;return[{name:e?"Call":"",fct:!!e&&function(){n("Call Taxi Service")}},{name:"Map",fct:function(){n("Display Map")}}]}if("View Any Result"===a)return[{name:"Change Position",fct:function(){return n("Choose Location")}}]}()})]})]})}var me,ye,Ce=n(12),we=n.n(Ce);function ke(e){return Object(b.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",children:[Object(b.jsx)("path",{d:"M 0 16 C 0 7.163 7.163 0 16 0 L 48 0 C 56.837 0 64 7.163 64 16 L 64 48 C 64 56.837 56.837 64 48 64 L 16 64 C 7.163 64 0 56.837 0 48 Z",fill:"rgb(0, 194, 74)"}),Object(b.jsx)("path",{d:"M 49.3 30.1 C 48.833 30.1 48.442 29.958 48.125 29.675 C 47.808 29.392 47.617 29 47.55 28.5 C 47.117 25.133 45.692 22.25 43.275 19.85 C 40.858 17.45 37.983 16 34.65 15.5 C 34.15 15.5 33.758 15.317 33.475 14.95 C 33.192 14.583 33.05 14.167 33.05 13.7 C 33.05 13.2 33.225 12.792 33.575 12.475 C 33.925 12.158 34.333 12.033 34.8 12.1 C 39 12.633 42.608 14.425 45.625 17.475 C 48.642 20.525 50.45 24.15 51.05 28.35 C 51.083 28.817 50.933 29.225 50.6 29.575 C 50.267 29.925 49.833 30.1 49.3 30.1 Z",fill:"rgb(255, 255, 255)"}),Object(b.jsx)("path",{d:"M 40.1 30.1 C 39.767 30.1 39.425 29.967 39.075 29.7 C 38.725 29.433 38.483 29.1 38.35 28.7 C 38.05 27.833 37.542 27.033 36.825 26.3 C 36.108 25.567 35.317 25.05 34.45 24.75 C 34.017 24.583 33.675 24.35 33.425 24.05 C 33.175 23.75 33.05 23.4 33.05 23 C 33.05 22.4 33.25 21.942 33.65 21.625 C 34.05 21.308 34.5 21.217 35 21.35 C 36.6 21.85 38.008 22.692 39.225 23.875 C 40.442 25.058 41.3 26.467 41.8 28.1 C 41.933 28.567 41.825 29.017 41.475 29.45 C 41.125 29.883 40.667 30.1 40.1 30.1 Z",fill:"rgb(255, 255, 255)"}),Object(b.jsx)("path",{d:"M 47.35 50.95 C 43.217 50.95 39.075 49.925 34.925 47.875 C 30.775 45.825 27.067 43.167 23.8 39.9 C 20.533 36.633 17.883 32.917 15.85 28.75 C 13.817 24.583 12.8 20.45 12.8 16.35 C 12.8 15.417 13.125 14.608 13.775 13.925 C 14.425 13.242 15.25 12.9 16.25 12.9 L 22.9 12.9 C 23.967 12.9 24.842 13.167 25.525 13.7 C 26.208 14.233 26.65 15.017 26.85 16.05 L 28.1 21.35 C 28.233 22.283 28.208 23.075 28.025 23.725 C 27.842 24.375 27.483 24.933 26.95 25.4 L 21.8 30.1 C 23.467 32.733 25.283 35.008 27.25 36.925 C 29.217 38.842 31.383 40.483 33.75 41.85 L 38.75 36.9 C 39.317 36.3 39.95 35.883 40.65 35.65 C 41.35 35.417 42.133 35.4 43 35.6 L 47.7 36.75 C 48.733 37.017 49.517 37.492 50.05 38.175 C 50.583 38.858 50.85 39.7 50.85 40.7 L 50.85 47.45 C 50.85 48.45 50.508 49.283 49.825 49.95 C 49.142 50.617 48.317 50.95 47.35 50.95 Z",fill:"rgb(255, 255, 255)"})]})}var Le=["title","titleId"];function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Se(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Me(e,t){var n=e.title,r=e.titleId,a=Se(e,Le);return o.createElement("svg",Ee({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,me||(me=o.createElement("path",{d:"M 45.1 39.5 L 45.1 7.55 C 45.1 6.317 44.65 5.242 43.75 4.325 C 42.85 3.408 41.783 2.95 40.55 2.95 L 7.55 2.95 C 6.317 2.95 5.242 3.408 4.325 4.325 C 3.408 5.242 2.95 6.317 2.95 7.55 L 2.95 32.6 C 2.95 33.833 3.408 34.9 4.325 35.8 C 5.242 36.7 6.317 37.15 7.55 37.15 L 37.25 37.15 L 41.2 41.1 C 42 41.9 42.85 42.1 43.75 41.7 C 44.65 41.3 45.1 40.567 45.1 39.5 Z",fill:"rgb(0, 194, 74)"})),ye||(ye=o.createElement("g",{transform:"translate(17 15)"},o.createElement("path",{d:"M 0 5 L 5 10",fill:"transparent",strokeWidth:5,stroke:"hsl(0, 0%, 100%)",strokeLinecap:"round"}),o.createElement("path",{d:"M 15 0 L 5 10",fill:"transparent",strokeWidth:5,stroke:"hsl(0, 0%, 100%)",strokeLinecap:"round"}))))}var _e,Re,Ae,Pe=o.forwardRef(Me),Ie=(n.p,["title","titleId"]);function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}function We(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ze(e,t){var n=e.title,r=e.titleId,a=We(e,Ie);return o.createElement("svg",Ne({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,_e||(_e=o.createElement("path",{d:"M 45.1 39.5 L 45.1 7.55 C 45.1 6.317 44.65 5.242 43.75 4.325 C 42.85 3.408 41.783 2.95 40.55 2.95 L 7.55 2.95 C 6.317 2.95 5.242 3.408 4.325 4.325 C 3.408 5.242 2.95 6.317 2.95 7.55 L 2.95 32.6 C 2.95 33.833 3.408 34.9 4.325 35.8 C 5.242 36.7 6.317 37.15 7.55 37.15 L 37.25 37.15 L 41.2 41.1 C 42 41.9 42.85 42.1 43.75 41.7 C 44.65 41.3 45.1 40.567 45.1 39.5 Z",fill:"rgb(230, 28, 99)"})),Re||(Re=o.createElement("path",{d:"M 29 15 L 19 25",fill:"transparent",strokeWidth:5,stroke:"hsl(0, 0%, 100%)",strokeLinecap:"round"})),Ae||(Ae=o.createElement("path",{d:"M 19 15 L 29 25",fill:"transparent",strokeWidth:5,stroke:"hsl(0, 0%, 100%)",strokeLinecap:"round"})))}var Te,Be=o.forwardRef(ze),De=(n.p,["title","titleId"]);function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}function He(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ve(e,t){var n=e.title,r=e.titleId,a=He(e,De);return o.createElement("svg",Ze({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,Te||(Te=o.createElement("path",{d:"M 22.95 26.65 C 23.117 27.117 23.467 27.35 24 27.35 C 24.533 27.35 24.9 27.117 25.1 26.65 L 26.75 22.85 L 30.6 21.15 C 31 20.983 31.2 20.633 31.2 20.1 C 31.2 19.567 31 19.2 30.6 19 L 26.75 17.35 L 25.1 13.5 C 24.9 13.067 24.533 12.85 24 12.85 C 23.467 12.85 23.117 13.067 22.95 13.5 L 21.25 17.35 L 17.45 19 C 17.017 19.2 16.8 19.567 16.8 20.1 C 16.8 20.633 17.017 20.983 17.45 21.15 L 21.25 22.85 Z M 2.95 39.5 L 2.95 7.55 C 2.95 6.317 3.4 5.242 4.3 4.325 C 5.2 3.408 6.267 2.95 7.5 2.95 L 40.5 2.95 C 41.733 2.95 42.808 3.408 43.725 4.325 C 44.642 5.242 45.1 6.317 45.1 7.55 L 45.1 32.6 C 45.1 33.833 44.642 34.9 43.725 35.8 C 42.808 36.7 41.733 37.15 40.5 37.15 L 10.8 37.15 L 6.85 41.1 C 6.05 41.9 5.2 42.1 4.3 41.7 C 3.4 41.3 2.95 40.567 2.95 39.5 Z",fill:"rgb(0, 113, 222)"})))}var Fe=o.forwardRef(Ve);n.p;function Ue(e){var t=e.data,n=e.to,r=t.action,a=t.ranks,i=t.index,c=t.ranks[t.index].phone;$();var l=function(e){"Backspace"===e.key&&(n("View Results"),e.preventDefault())},s=function(){n("View Results")};switch(Object(o.useEffect)((function(){return document.addEventListener("keydown",l),function(){return document.removeEventListener("keydown",l)}}),[t]),Object(o.useEffect)((function(){}),[]),r){case"Call Taxi Service":return setTimeout((function(){window.location="tel:"+c}),500),setTimeout((function(){n("Review Taxi Service")}),1650),Object(b.jsx)("div",{className:we.a.main,children:Object(b.jsxs)("div",{children:[Object(b.jsx)(ke,{}),Object(b.jsx)("p",{children:"Preparing Call\u2026"})]})});case"Review Taxi Service":return Object(b.jsxs)("div",{className:we.a.main,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(Fe,{}),Object(b.jsxs)("p",{children:["Are you satisfy with your call with ",Object(b.jsx)("b",{children:a[i].name}),"?"]})]}),Object(b.jsx)(p,{children:[{name:"Yes",fct:function(){n("Satisfy With Taxi Service")}},{name:"Skip",fct:s},{name:"No",fct:function(){n("Unsatisfy With Taxi Service")}}]})]});case"Satisfy With Taxi Service":return Object(b.jsxs)("div",{className:we.a.main,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(Pe,{}),Object(b.jsx)("h1",{children:"Thanks for your feedback"}),Object(b.jsx)("p",{children:"It will help us to improve our application"})]}),Object(b.jsx)(p,{children:[{name:"Close",fct:s}]})]});case"Unsatisfy With Taxi Service":return Object(b.jsxs)("div",{className:we.a.main,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(Be,{}),Object(b.jsx)("h1",{children:"Sorry to hear that"}),Object(b.jsx)("p",{children:"Your feedback will help us to improve that"})]}),Object(b.jsx)(p,{children:[{name:"Close",fct:s}]})]});default:return!1}}n(27);function Ye(){var e=function(){var e=Object(o.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1];ae="taxi",Object(o.useEffect)((function(){console.log(ae),Object(ee.a)(ae).then((function(e){e.createdAt?Object(te.a)(e.version,re,"<")||!e.version?i(e):c(e):a()})).catch((function(e){a()}))}),[]);var a=function(){var e={version:re,createdAt:Date.now(),id:Object(ne.a)(),datasets:{action:"Choose Location",coords:null,ranks:null,index:0}};Object(ee.b)(ae,e).then((function(){r(e.datasets),Q("Install App",null,e.id)})).catch((function(e){}))},i=function(e){var t={version:re,createdAt:e.createdAt?e.createdAt:Date.now(),id:e.id?e.id:Object(ne.a)(),datasets:{action:e.datasets.action?e.datasets.action:"Choose Location",coords:e.datasets.coords?e.datasets.coords:null,ranks:e.datasets.ranks?e.datasets.ranks:null,index:e.datasets.index?e.datasets.index:0}};Object(ee.b)(ae,t).then((function(){r(t.datasets),Q("Open App",{type:"update"},t.id)})).catch((function(e){}))},c=function(e){Q("Open App",{},e.id),r(e.datasets)};return[n,function(e){Object(ee.a)(ae).then((function(t){var n=Object(d.a)(Object(d.a)({},t),{},{datasets:Object(d.a)(Object(d.a)({},t.datasets),e)});Object(ee.b)(ae,n),r(n.datasets)}))}]}(),t=Object(f.a)(e,2),n=t[0],r=t[1],a=function(e){var t=Object(o.useRef)();return Object(o.useEffect)((function(){t.current=e}),[e]),t.current}(n);Object(o.useEffect)((function(){var e=n.action,t=n.ranks,r=n.index,i=n.coords,c=e,o=a&&a.action,l={};return c!==o&&(("View Results"!==c||"Display Map"!==o&&"Review Taxi Service"!==o&&"Satisfy With Taxi Service"!==o&&"Unsatisfy With Taxi Service"!==o)&&("Call Taxi Service"!==c&&"Satisfy With Taxi Service"!==c&&"Unsatisfy With Taxi Service"!==c||(l={phone:t[r].phone,name:t[r].name}),"View Results"!==c&&"View Any Results"!==c||(l={quantity:t?t.length:0,latitude:i.lat,longitude:i.lng}),void Q(c,l)))}),[n,a]);var i=function(e){var t,a=e.coords,i=e.ranks,c=e.action;"string"===typeof e?t={action:e}:((i||a)&&(e.index=0,e.ranks=i||null),!c&&a?e.action="Waiting Results":!c&&i&&(e.action=0===i.length?"View Any Result":"View Results"),t=e),r(Object(d.a)(Object(d.a)({},n),t))};return n?"Learn Basics"===n.action||"Choose Location"===n.action||"Waiting Location"===n.action||"Got Location"===n.action||"Handle Denied Location"===n.action||"Handle Location Error"===n.action?Object(b.jsx)(ve,{data:n,to:i}):"Choose On Map"===n.action?Object(b.jsx)(_,{to:i}):"Waiting Results"===n.action||"View Results"===n.action||"View Any Result"===n.action||"Display Map"===n.action?Object(b.jsx)(ge,{data:n,to:i}):"Call Taxi Service"===n.action||"Review Taxi Service"===n.action||"Unsatisfy With Taxi Service"===n.action||"Satisfy With Taxi Service"===n.action?Object(b.jsx)(Ue,{data:n,to:i,hit:Q}):Object(b.jsx)("div",{children:"There is an error."}):Object(b.jsx)("div",{})}u.a.render(Object(b.jsx)(Ye,{}),document.getElementById("root"))},6:function(e,t,n){e.exports={onboarding:"Onboarding_onboarding__25WWR",SolarSystem:"Onboarding_SolarSystem__1DyXE",worldtour:"Onboarding_worldtour__3aBHe",GetPositionButton:"Onboarding_GetPositionButton__2luV2"}},8:function(e,t,n){e.exports={Container:"Map_Container__1atR2",Softkeys:"Map_Softkeys__-9J-q",Target:"Map_Target__1Mo6V",Map:"Map_Map__lBUCh",here:"Map_here__17bxm","here-pulse":"Map_here-pulse__1ZD6n"}},9:function(e,t,n){e.exports={Card:"Card_Card__2v91Y",subheader:"Card_subheader__1vgJ1",rank:"Card_rank__dk7EH",service:"Card_service__2l9mL",pagging:"Card_pagging__sijv9"}}},[[44,1,2]]]);
//# sourceMappingURL=main.07222a4f.chunk.js.map